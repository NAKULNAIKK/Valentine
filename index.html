<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nakul ‚ù§Ô∏è Shrutika</title>

<style>

body{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
  font-family:Arial;
  background:linear-gradient(to right,#ff9a9e,#fad0c4);
  margin:0;
  overflow:hidden;
}

h1{
  margin-bottom:20px;
  text-align:center;
}

.buttonContainer{
  position:relative;
  height:100px;
  width:300px;
}

button{
  padding:14px 30px;
  font-size:20px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  transition:0.3s;
  position:absolute;
}

#yesBtn{
  background:#4CAF50;
  color:white;
  left:30%;
}

#noBtn{
  background:#f44336;
  color:white;
  left:60%;
}

img{
  width:220px;
  border-radius:15px;
  margin-top:15px;
  animation: fadeIn 1s;
}

#photoContainer{
  text-align:center;
  margin-top:15px;
}

.popup{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:white;
  padding:25px;
  border-radius:20px;
  box-shadow:0 0 20px rgba(0,0,0,0.3);
  z-index:999;
}

@keyframes float{
  from {transform: translateY(0); opacity:1;}
  to {transform: translateY(-100vh); opacity:0;}
}

@keyframes fadeIn{
  from{opacity:0;}
  to{opacity:1;}
}

/* Mobile fix */
@media(max-width:600px){

  .buttonContainer{
    width:220px;
  }

  button{
    font-size:16px;
    padding:10px 18px;
  }

  img{
    width:180px;
  }

}

</style>
</head>

<body>

<h1>Will you be my Valentine? ‚ù§Ô∏è</h1>

<div class="buttonContainer">
  <button id="yesBtn">Yes</button>
  <button id="noBtn">No</button>
</div>

<div id="photoContainer"></div>

<audio id="song" loop>
  <source src="Dil-tu-Jaan-tu.mp3.mp3" type="audio/mp3">
</audio>

<script>

let noCount = 0;
let yesSize = 1;
let noSize = 1;
let songStarted = false;

const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const container = document.getElementById("photoContainer");
const song = document.getElementById("song");

const photos = [
"photo1.jpg.jpeg",
"photo2.jpg.jpeg",
"photo3.jpg.jpeg",
"photo4.jpg.jpeg",
"photo5.jpg.jpeg"
];

function startSong(){
  if(!songStarted){
    song.play().catch(()=>{});
    songStarted = true;
  }
}

function moveNoButton(){

  let containerRect = document.querySelector(".buttonContainer").getBoundingClientRect();

  let x = Math.random() * (containerRect.width - 80);
  let y = Math.random() * (containerRect.height - 40);

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}


/* Floating Hearts Background */
setInterval(()=>{

  let heart = document.createElement("div");
  heart.innerHTML = "‚ù§Ô∏è";
  heart.style.position = "fixed";
  heart.style.left = Math.random()*100 + "vw";
  heart.style.bottom = "0";
  heart.style.fontSize = "22px";
  heart.style.animation = "float 4s linear";

  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),4000);

},400);


/* NO button behaviour */
noBtn.addEventListener("mouseover", moveNoButton);
noBtn.addEventListener("touchstart", moveNoButton);

noBtn.onclick = () => {

  startSong();
  noCount++;

  yesSize += 0.2;
  yesBtn.style.transform = `scale(${yesSize})`;

  noSize -= 0.1;
  noBtn.style.transform = `scale(${noSize})`;

  moveNoButton();

  if(noCount <= photos.length){
    container.innerHTML = "";
    let img = document.createElement("img");
    img.src = photos[noCount-1];
    container.appendChild(img);
  }
};


/* YES click */
yesBtn.onclick = () => {

  startSong();
  noBtn.style.display = "none";

  /* Confetti */
  for(let i=0;i<70;i++){
    let conf = document.createElement("div");
    conf.innerHTML = "üíñ";
    conf.style.position = "fixed";
    conf.style.left = Math.random()*100 + "vw";
    conf.style.top = Math.random()*100 + "vh";
    conf.style.fontSize = "25px";
    conf.style.animation = "float 3s linear";
    document.body.appendChild(conf);
    setTimeout(()=>conf.remove(),3000);
  }

  container.innerHTML = "<h2 id='typing'></h2>";

  let text = "You just made Nakul the happiest person alive ‚ù§Ô∏èü•∫";
  let i = 0;

  let typing = setInterval(()=>{

    document.getElementById("typing").innerHTML += text[i];
    i++;

    if(i === text.length){
      clearInterval(typing);
      setTimeout(showPopup,1200);
    }

  },40);
};


function showPopup(){

  let popup = document.createElement("div");
  popup.className = "popup";

  popup.innerHTML = `
  <h2>My Love ‚ù§Ô∏è</h2>
  <p>
  From the moment you came into my life,
  everything became more beautiful.
  I promise to love you forever ‚ôæÔ∏è
  </p>
  <h3>Nakul ‚ù§Ô∏è Shrutika</h3>
  `;

  document.body.appendChild(popup);

  photos.forEach(photo=>{
    let img = document.createElement("img");
    img.src = photo;
    container.appendChild(img);
  });

}

</script>

</body>
</html>
